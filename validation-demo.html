<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LOFERSIL Contact Form Validation Demo</title>
    <link rel="stylesheet" href="src/styles/main.css" />
    <style>
      body {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
      }
      .demo-section {
        margin-bottom: 3rem;
        padding: 1.5rem;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
      }
      .demo-section h2 {
        margin-bottom: 1rem;
        color: #2563eb;
      }
      .test-results {
        margin-top: 1rem;
        padding: 1rem;
        background-color: #f9fafb;
        border-radius: 4px;
        font-family: monospace;
        white-space: pre-wrap;
      }
      .success {
        color: #10b981;
      }
      .error {
        color: #ef4444;
      }
    </style>
  </head>
  <body>
    <h1>LOFERSIL Contact Form Validation System</h1>
    <p>
      This demo showcases the comprehensive input validation system for the LOFERSIL landing page
      contact form.
    </p>

    <div class="demo-section">
      <h2>1. Contact Form Demo</h2>
      <p>Try submitting the form with various inputs to see the validation in action:</p>

      <form id="contact-form" class="contact-form">
        <div class="form-field">
          <label for="name">Name *</label>
          <input type="text" id="name" name="name" required autocomplete="name" />
        </div>

        <div class="form-field">
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" required autocomplete="email" />
        </div>

        <div class="form-field">
          <label for="phone">Phone (optional)</label>
          <input type="tel" id="phone" name="phone" autocomplete="tel" />
        </div>

        <div class="form-field">
          <label for="message">Message *</label>
          <textarea id="message" name="message" required autocomplete="off"></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Submit Contact Form</button>
      </form>
    </div>

    <div class="demo-section">
      <h2>2. Validation Test Results</h2>
      <p>
        Automatic validation tests run in the browser console. Check the console for detailed test
        results.
      </p>
      <div id="test-results" class="test-results">Tests will run automatically...</div>
    </div>

    <div class="demo-section">
      <h2>3. Validation Features</h2>
      <ul>
        <li><strong>Name Validation:</strong> Required, 2-100 characters, valid characters only</li>
        <li><strong>Email Validation:</strong> Required, valid email format, RFC 5322 compliant</li>
        <li>
          <strong>Phone Validation:</strong> Optional, flexible format support, minimum length check
        </li>
        <li><strong>Message Validation:</strong> Required, 10-2000 characters</li>
        <li><strong>Real-time Validation:</strong> Field-level error display as you type</li>
        <li><strong>Form-level Validation:</strong> Complete form validation before submission</li>
        <li>
          <strong>Accessibility:</strong> ARIA attributes, focus management, screen reader support
        </li>
        <li><strong>User-friendly Messages:</strong> Clear, actionable error messages</li>
      </ul>
    </div>

    <div class="demo-section">
      <h2>4. Integration Instructions</h2>
      <p>To integrate this validation system into your contact form:</p>
      <ol>
        <li>Add the form HTML with appropriate field names (name, email, phone, message)</li>
        <li>Import the ContactFormValidator class</li>
        <li>Initialize the validator with your form selector</li>
        <li>Call validateForm() before form submission</li>
        <li>Handle validation results and API submission</li>
      </ol>
      <pre><code>// Example integration
import { ContactFormValidator } from './validation';

const validator = new ContactFormValidator('#contact-form');

form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const validation = validator.validateForm();
    if (!validation.isValid) {
        return; // Errors are displayed automatically
    }

    // Proceed with API submission
    const formData = validator.getFormData();
    // ... submit to API
});</code></pre>
    </div>

    <!-- Load the validation system -->
    <script type="module">
      import { ContactFormValidator, runValidationTests } from './src/scripts/validation.js';
      import { runValidationTests as runTests } from './src/scripts/validation.test.js';

      // Initialize form validation
      const validator = new ContactFormValidator('#contact-form');

      // Handle form submission
      document.getElementById('contact-form').addEventListener('submit', async e => {
        e.preventDefault();

        const validation = validator.validateForm();
        if (validation.isValid) {
          validator.displaySuccess('Form submitted successfully! (Demo mode)');
          console.log('Form data:', validator.getFormData());

          // In a real implementation, you would submit to your API here
          // const response = await submitContact(validator.getFormData());
        }
      });

      // Run validation tests
      setTimeout(() => {
        console.log('ðŸ§ª Running LOFERSIL Validation Tests...');
        runTests();

        // Update demo results
        document.getElementById('test-results').textContent =
          'âœ… Validation tests completed! Check the browser console for detailed results.';
      }, 500);
    </script>
  </body>
</html>
